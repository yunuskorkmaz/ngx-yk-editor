{"version":3,"file":"yk-editor.umd.js.map","sources":["ng://yk-editor/lib/ykeditor/ykeditor.component.ts","ng://yk-editor/lib/markdown.directive.ts","ng://yk-editor/lib/yk-editor.module.ts"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef, Input, Output, EventEmitter, AfterViewInit, HostListener } from '@angular/core';\r\nimport { editor, Selection, languages} from 'monaco-editor';\r\nimport emoji from 'node-emoji'\r\nimport { ResizedEvent } from 'angular-resize-event/resized-event';\r\nimport { ResizedDirective } from 'angular-resize-event/resized.directive';\r\nimport { AngularResizedEventModule } from 'angular-resize-event';\r\n\r\n@Component({\r\n  selector: \"yk-editor\",\r\n  templateUrl: \"./ykeditor.component.html\",\r\n  styleUrls: [\"./ykeditor.component.css\"]\r\n})\r\nexport class YKEditorComponent implements OnInit, AfterViewInit {\r\n  @Input()\r\n  get content() {\r\n    return this._content;\r\n  }\r\n\r\n  set content(v) {\r\n    this._content = v;\r\n    this.contentChange.emit(v);\r\n  }\r\n\r\n  @Output() contentChange = new EventEmitter();\r\n\r\n  _content = \"\";\r\n  @ViewChild(\"editorhost\") host: ElementRef;\r\n  @ViewChild(\"editorContainer\") editorContainer: ElementRef;\r\n  @ViewChild(\"previewContainer\") previewContainer: ElementRef;\r\n  @ViewChild(\"mainContainer\") mainContainer: ElementRef;\r\n  @ViewChild(\"resizeContainer\") resizeContainer: ElementRef;\r\n  \r\n  baseEditor: any;\r\n\r\n  displayMode: string = \"split\";\r\n\r\n  isFullScreen = false;\r\n\r\n  theme: boolean = true;\r\n\r\n  changeTheme() {\r\n    this.theme = !this.theme;\r\n    this.theme == true ? editor.setTheme(\"vs\") : editor.setTheme(\"vs-dark\");\r\n  }\r\n\r\n  changeLayout(type) {\r\n    if (this.displayMode != type || type == \"fullscreen\") {\r\n      this.displayMode = type;\r\n      switch (type) {\r\n        case \"edit\":\r\n          this.previewContainer.nativeElement.setAttribute(\r\n            \"style\",\r\n            \"display : none\"\r\n          );\r\n          this.editorContainer.nativeElement.setAttribute(\r\n            \"style\",\r\n            \"min-width : 100%;max-width : 100%\"\r\n          );\r\n          break;\r\n        case \"preview\":\r\n          this.editorContainer.nativeElement.setAttribute(\r\n            \"style\",\r\n            \"display : none\"\r\n          );\r\n          this.previewContainer.nativeElement.setAttribute(\r\n            \"style\",\r\n            \"min-width : 100%;max-width : 100%\"\r\n          );\r\n          break;\r\n        case \"split\":\r\n          this.previewContainer.nativeElement.setAttribute(\"style\", \"\");\r\n          this.editorContainer.nativeElement.setAttribute(\"style\", \"\");\r\n          this.resizeLayout();\r\n          break;\r\n        case \"fullscreen\":\r\n          this.isFullScreen = !this.isFullScreen;\r\n          if (this.isFullScreen == true){\r\n            this.mainContainer.nativeElement.setAttribute(\r\n              \"style\",\r\n              \"position: fixed;top: 0px;left: 0;bottom: 0;right: 0;width: 100%;height: 100%;\"\r\n            );\r\n            this.resizeLayout();\r\n          }\r\n          else \r\n          {\r\n            this.mainContainer.nativeElement.setAttribute(\"style\", \"\");\r\n            this.resizeLayout();\r\n        }break;\r\n      }\r\n      this.baseEditor.layout();\r\n    }\r\n  }\r\n\r\n  constructor( private el : ElementRef) {}\r\n  \r\n\r\n  config: any = {\r\n    language: \"markdown\",\r\n    minimap: { enabled: false },\r\n    lineNumbers: \"off\",\r\n    theme: this.theme ? \"vs\" : \"vs-dark\",\r\n    scrollBeyondLastLine: false,\r\n    wordWrap: \"on\",\r\n    glyphMargin: false\r\n  };\r\n\r\n  ngOnInit() {\r\n    this.baseEditor = editor.create(this.host.nativeElement, this.config);\r\n    this.baseEditor.setModel(editor.createModel(this.content, \"markdown\"));\r\n    this.baseEditor.onDidChangeModelContent(e => {\r\n      this.content = this.baseEditor.getValue();\r\n    });\r\n    var emojilist = [];\r\n    for (var k in emoji.emoji) {\r\n      emojilist.push({\r\n        label: k + \" \" + emoji.emoji[k],\r\n        kind: languages.CompletionItemKind.Function,\r\n        insertText: k + \":\"\r\n      });\r\n    }\r\n\r\n    languages.registerCompletionItemProvider(\"markdown\", {\r\n      provideCompletionItems: function(model, position) {\r\n        var textUntilPosition = model.getValueInRange({\r\n          startLineNumber: position.lineNumber,\r\n          startColumn: position.column - 1,\r\n          endLineNumber: position.lineNumber,\r\n          endColumn: position.column\r\n        });\r\n        if (textUntilPosition === \":\") {\r\n          return emojilist;\r\n        }\r\n        return [];\r\n      },\r\n      triggerCharacters: [\":\"]\r\n    });\r\n\r\n    languages.setLanguageConfiguration(\"markdown\", {\r\n      onEnterRules: [\r\n        {\r\n          beforeText: /^[-]\\s(.*)/,\r\n          action: {\r\n            appendText: \"- \",\r\n            indentAction: languages.IndentAction.None\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    languages.registerCompletionItemProvider(\"markdown\", {\r\n      provideCompletionItems: () => {\r\n        return [\r\n          {\r\n            label: \"h1\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"# ${1:text}\"\r\n            }\r\n          },\r\n          {\r\n            label: \"h2\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"## ${1:text}\"\r\n            }\r\n          },\r\n          {\r\n            label: \"h3\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"### ${1:text}\"\r\n            }\r\n          },\r\n          {\r\n            label: \"h4\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"#### ${1:text}\"\r\n            }\r\n          },\r\n          {\r\n            label: \"h5\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"##### ${1:text}\"\r\n            }\r\n          },\r\n          {\r\n            label: \"h6\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"###### ${1:text}\"\r\n            }\r\n          },\r\n          {\r\n            label: \"code\",\r\n            kind: languages.CompletionItemKind.Snippet,\r\n            insertText: {\r\n              value: [\"```\", \"${1:code}\", \"```\"].join(\"\\n\")\r\n            },\r\n            documentation: \"If-Else Statement\"\r\n          },\r\n          {\r\n            label: \"link\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"[${1:linkText}](${2:url})\"\r\n            }\r\n          },\r\n          {\r\n            label: \"image\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"![${1:altText}](${2:url})\"\r\n            }\r\n          },\r\n          {\r\n            label: \"linkreferance\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"[${1:name}]: ${2:link}\"\r\n            }\r\n          },\r\n          {\r\n            label: \"list\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"\\n - ${1:text}\"\r\n            }\r\n          },\r\n          {\r\n            label: \"todo un check\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"\\n - [ ] ${2:text}\"\r\n            }\r\n          },\r\n\r\n          {\r\n            label: \"todo check\",\r\n            kind: languages.CompletionItemKind.Keyword,\r\n            insertText: {\r\n              value: \"\\n - [x] ${2:text}\"\r\n            }\r\n          }\r\n        ];\r\n      }\r\n    });\r\n\r\n    this.baseEditor.updateOptions({\r\n      glyphMargin: false\r\n    });\r\n  }\r\n\r\n  charRepeatBasedInsertText(char, aftercharnewLine = false, line = 0) {\r\n    var count = char.trim().length;\r\n    const selection = this.baseEditor.getSelection();\r\n    var text = this.baseEditor.getModel().getValueInRange(selection);\r\n    text.trim();\r\n    var beforeselection = new Selection(\r\n      selection.selectionStartLineNumber,\r\n      selection.selectionStartColumn - count,\r\n      selection.positionLineNumber,\r\n      selection.positionColumn - text.length\r\n    );\r\n\r\n    var afterselection = new Selection(\r\n      selection.selectionStartLineNumber,\r\n      selection.positionColumn,\r\n      selection.positionLineNumber,\r\n      selection.positionColumn + count\r\n    );\r\n\r\n    var startchar = this.baseEditor.getModel().getValueInRange(beforeselection);\r\n    var endchar = this.baseEditor.getModel().getValueInRange(afterselection);\r\n\r\n    if (startchar == char && endchar == char) {\r\n      this.baseEditor.executeEdits(\"\", [{ range: afterselection, text: \"\" }]);\r\n      this.baseEditor.executeEdits(\"\", [{ range: beforeselection, text: \"\" }]);\r\n    } else {\r\n      text = `${aftercharnewLine == true ? \"\\n\" : \"\"}${char}${\r\n        aftercharnewLine == true ? \"\\n\" : \"\"\r\n      }${text}${aftercharnewLine == true ? \"\\n\" : \"\"}${char}`;\r\n      this.baseEditor.executeEdits(\"\", [{ range: selection, text: text }]);\r\n\r\n      this.baseEditor.setSelection({\r\n        startColumn: selection.startColumn + (line == 0 ? count : 0),\r\n        endColumn: selection.endColumn + (line == 0 ? count : 0),\r\n        startLineNumber: selection.startLineNumber + line,\r\n        endLineNumber: selection.endLineNumber + line\r\n      });\r\n    }\r\n    this.baseEditor.focus();\r\n  }\r\n  linkBasedInsertText(type) {\r\n    var count = type == \"image\" ? 4 : 3;\r\n    var extrachar = type == \"image\" ? \"!\" : \"\";\r\n    const selection = this.baseEditor.getSelection();\r\n    var text = this.baseEditor.getModel().getValueInRange(selection);\r\n    var newText = `${extrachar}[${text}]()`;\r\n    this.baseEditor.executeEdits(\"\", [{ range: selection, text: newText }]);\r\n    this.baseEditor.setPosition({\r\n      lineNumber: selection.endLineNumber,\r\n      column: selection.endColumn + count\r\n    });\r\n    this.baseEditor.focus();\r\n  }\r\n  listBasedInsertText(type, fill = false) {\r\n    var extra = type == \"todo\" ? (fill == true ? \"[x]\" : \"[ ]\") : \"\";\r\n    const selection = this.baseEditor.getSelection();\r\n    var text = this.baseEditor.getModel().getValueInRange(selection);\r\n    var newText = `\\n - ${extra} ${text} `;\r\n    this.baseEditor.executeEdits(\"\", [{ range: selection, text: newText }]);\r\n    this.baseEditor.setPosition({\r\n      lineNumber: selection.endLineNumber + 1,\r\n      column: type == \"todo\" ? 8 : 4\r\n    });\r\n    this.baseEditor.focus();\r\n  }\r\n\r\n  insertContent(type) {\r\n    switch (type) {\r\n      case \"bold\":\r\n        this.charRepeatBasedInsertText(\"**\");\r\n        break;\r\n      case \"italic\":\r\n        this.charRepeatBasedInsertText(\"*\");\r\n        break;\r\n      case \"strikethrough\":\r\n        this.charRepeatBasedInsertText(\"~~\");\r\n        break;\r\n      case \"link\":\r\n        this.linkBasedInsertText(\"link\");\r\n        break;\r\n      case \"image\":\r\n        this.linkBasedInsertText(\"image\");\r\n        break;\r\n      case \"code\":\r\n        this.charRepeatBasedInsertText(\"```\", true, +1);\r\n        break;\r\n      case \"inline-code\":\r\n        this.charRepeatBasedInsertText(\"`\");\r\n        break;\r\n      case \"undo\":\r\n        this.baseEditor.trigger(\"\", \"undo\", \"\");\r\n        break;\r\n      case \"redo\":\r\n        this.baseEditor.trigger(\"\", \"redo\", \"\");\r\n        break;\r\n      case \"list\":\r\n        this.listBasedInsertText(\"link\");\r\n        break;\r\n      case \"todo-x\":\r\n        this.listBasedInsertText(\"todo\", true);\r\n        break;\r\n      case \"todo-o\":\r\n        this.listBasedInsertText(\"todo\", false);\r\n        break;\r\n    }\r\n  }\r\n\r\n  onResized(event: ResizedEvent): void {\r\n    this.baseEditor.layout();\r\n    this.resizeLayout();\r\n  }\r\n  resizeLayout() {\r\n    var witdh = this.resizeContainer.nativeElement.offsetWidth;\r\n    this.editorContainer.nativeElement.style.width = witdh / 2 + \"px\";\r\n    this.previewContainer.nativeElement.style.width = witdh / 2 + \"px\";\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.resizeLayout();\r\n  }\r\n}\r\n","import { Directive, Input, ElementRef, Output, Renderer2, SecurityContext } from '@angular/core';\nimport marked from 'marked';\nimport hljs from \"highlight.js\";\nimport { DomSanitizer } from '@angular/platform-browser';\nimport emoji from 'node-emoji'\n\n\n@Directive({\n  selector: '[markdown]'\n})\nexport class MarkdownDirective {\n\n  @Input() set markdowntext(v) {\n    if (v != null && v != this._content) {\n      this._content = v;\n      this.renderMarkdown(this._content);\n    }\n  }\n  @Output() get html() {\n    return this.markedContent;\n  }\n  _content;\n  markedContent: string;\n  renderer = new marked.Renderer();\n\n\n  constructor(private el: ElementRef, private sanitize: DomSanitizer, private render2: Renderer2) {\n    this.markedRenderer();\n    this.renderMarkdown(\"\");\n  }\n\n\n  renderMarkdown(text) {\n    const replacer = (match) => emoji.emojify(match);\n    text = text.replace(/(:.*:)/g, replacer);\n\n    this.markedContent = marked(text);\n\n    this.markedContent = this.sanitize.bypassSecurityTrustHtml(this.markedContent) as string\n\n    this.el.nativeElement.innerHTML = this.sanitize.sanitize(SecurityContext.HTML, this.markedContent);\n\n  }\n\n  markedRenderer() {\n    this.renderer.listitem = (text: any) => {\n      if (/^\\s*\\[[x ]\\]\\s*/.test(text)) {\n        text = text\n          .replace(/^\\s*\\[ \\]\\s*/, '<i class=\"fa fa-square-o\" style=\"margin: 0 0.2em 0.25em -1.6em;\"></i> ')\n          .replace(/^\\s*\\[x\\]\\s*/, '<i class=\"fa fa-check-square\" style=\"margin: 0 0.2em 0.25em -1.6em;\"></i> ');\n        return `<li style=\"list-style: none;\">${text}</li>`;\n      } else {\n        return `<li>${text}</li>`;\n      }\n    };\n    this.renderer.table = (header: string, body: string) => {\n      return `<table class=\"table table-bordered\">\\n<thead>\\n${header}</thead>\\n<tbody>\\n${body}</tbody>\\n</table>\\n`;\n    };\n\n    marked.setOptions({\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      },\n      renderer: this.renderer,\n      tables: true,\n      sanitize: false,\n      smartLists: true,\n\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { YKEditorComponent } from './ykeditor/ykeditor.component';\nimport { MarkdownDirective } from './markdown.directive';\nimport { CommonModule } from \"@angular/common\";\nimport { AngularResizedEventModule } from 'angular-resize-event';\n@NgModule({\n  imports: [\n    CommonModule,\n    AngularResizedEventModule\n  ],\n  declarations: [ YKEditorComponent, MarkdownDirective],\n  exports: [YKEditorComponent,MarkdownDirective]\n})\nexport class YkEditorModule { }\n"],"names":["EventEmitter","editor","languages","Selection","Component","ElementRef","Input","Output","ViewChild","SecurityContext","Directive","DomSanitizer","Renderer2","NgModule","CommonModule","AngularResizedEventModule"],"mappings":"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"}
